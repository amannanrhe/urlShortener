window.onload=(()=>{document.querySelector("form").addEventListener("submit",handleURLSubmit)});const handleURLSubmit=e=>{e.preventDefault();const s=document.querySelector("#urlInput").value,r=document.querySelector(".message-container"),t=document.querySelector(".error-container");message=document.querySelector(".message"),console.log(s),urlCheck(s)?fetch("/api/add",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:`url=${s}`}).then(e=>{e.json().then(e=>{const{url:s}=e;s?(displaySuccessMsg(r,t),message.innerHTML=s,message.href=s):displayErrorMsg(r,t)})}).catch(e=>{displayErrorMsg(r,t)}):displayErrorMsg(r,t)},displaySuccessMsg=(e,s)=>{e.classList.remove("hidden"),s.classList.add("hidden")},displayErrorMsg=(e,s)=>{e.classList.add("hidden"),s.classList.remove("hidden")},urlCheck=e=>/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/.test(e);