window.onload=(()=>{document.querySelector("form").addEventListener("submit",handleURLSubmit)});const handleURLSubmit=e=>{e.preventDefault();const r=document.querySelector("#urlInput").value,t=document.querySelector(".message-container"),s=document.querySelector(".error-container");message=document.querySelector(".message"),console.log(r),urlCheck(r)?fetch("/api/add",{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:`url=${r}`}).then(e=>{e.json().then(e=>{t.classList.remove("hidden"),s.classList.add("hidden"),message.innerHTML=e.url,message.href=e.url})}).catch(e=>{displayErrorMsg(t,s)}):displayErrorMsg(t,s)},displayErrorMsg=(e,r)=>{e.classList.add("hidden"),r.classList.remove("hidden")},urlCheck=e=>/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/.test(e);